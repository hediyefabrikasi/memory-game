<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AÅŸkÄ±mÄ±zÄ±n HatÄ±ralarÄ±</title>

  <style>
    :root {
      --bg1: #ff758c;
      --bg2: #ff7eb3;
      --cardFront1: #ff9a9e;
      --cardFront2: #fad0c4;
      --accent: #ff3b6f;
      --panel: #ffffff;
    }

    body.dark {
      --bg1: #141414;
      --bg2: #2c2c2c;
      --cardFront1: #444;
      --cardFront2: #666;
      --accent: #f472b6;
      --panel: #1f1f1f;
      color: white;
    }

    body.pastel {
      --bg1: #c7d2fe;
      --bg2: #fbcfe8;
      --cardFront1: #fde68a;
      --cardFront2: #f9a8d4;
      --accent: #7c3aed;
      --panel: #ffffff;
    }

    body.neon {
      --bg1: #020024;
      --bg2: #090979;
      --cardFront1: #ff00ff;
      --cardFront2: #00ffff;
      --accent: #00ffff;
      --panel: #020024;
      color: #00ffff;
    }

    * {
      box-sizing: border-box;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    }

    body {
      margin: 0;
      background: linear-gradient(135deg, var(--bg1), var(--bg2));
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      transition: background 0.4s;
    }

    .app {
      background: var(--panel);
      width: 95%;
      max-width: 480px;
      border-radius: 22px;
      padding: 16px;
      box-shadow: 0 20px 45px rgba(0,0,0,0.2);
      text-align: center;
      position: relative;
    }

    h1 {
      margin: 4px 0 4px;
      font-size: 22px;
      font-weight: 800;
    }

    .subtitle {
      font-size: 13px;
      color: var(--accent);
      margin-bottom: 8px;
      font-weight: 600;
    }

    .top-bar {
      display: flex;
      justify-content: space-between;
      gap: 6px;
      margin-bottom: 8px;
      font-size: 12px;
      font-weight: 700;
      flex-wrap: wrap;
    }

    .pill {
      background: rgba(255,255,255,0.6);
      padding: 4px 10px;
      border-radius: 999px;
      color: var(--accent);
      white-space: nowrap;
    }

    body.dark .pill,
    body.neon .pill {
      background: rgba(255,255,255,0.1);
    }

    .controls {
      display: flex;
      gap: 6px;
      margin-bottom: 8px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .mini-btn {
      font-size: 11px;
      padding: 6px 10px;
      border-radius: 999px;
      border: none;
      background: rgba(255,255,255,0.7);
      color: var(--accent);
      font-weight: 700;
      cursor: pointer;
    }

    body.dark .mini-btn,
    body.neon .mini-btn {
      background: rgba(255,255,255,0.12);
    }

    .grid {
      display: grid;
      gap: 10px;
      margin-top: 8px;
    }

    .card {
      aspect-ratio: 1 / 1;
      perspective: 1000px;
      cursor: pointer;
      position: relative;
    }

    .card-inner {
      width: 100%;
      height: 100%;
      border-radius: 14px;
      position: relative;
      transform-style: preserve-3d;
      transition: transform 0.45s;
    }

    .card.flipped .card-inner {
      transform: rotateY(180deg);
    }

    .card-face {
      position: absolute;
      inset: 0;
      border-radius: 14px;
      backface-visibility: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
    }

    .card-front {
      background: linear-gradient(135deg, var(--cardFront1), var(--cardFront2));
      font-size: 26px;
      color: white;
    }

    .card-back {
      transform: rotateY(180deg);
    }

    .card-back img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    /* ğŸ’¥ Kalp patlama */
    .heart {
      position: absolute;
      font-size: 18px;
      animation: floatUp 1s ease-out forwards;
      pointer-events: none;
    }

    @keyframes floatUp {
      0% { transform: translateY(0) scale(0.8); opacity: 1; }
      100% { transform: translateY(-40px) scale(1.4); opacity: 0; }
    }

    /* ğŸ‰ Konfeti */
    .confetti {
      position: fixed;
      width: 6px;
      height: 10px;
      background: red;
      top: -10px;
      animation: fall 2s linear forwards;
      z-index: 50;
    }

    @keyframes fall {
      to { transform: translateY(110vh) rotate(360deg); opacity: 0; }
    }

    /* ğŸ”” Toast mesaj */
    .toast {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0,0,0,0.75);
      color: white;
      padding: 10px 16px;
      border-radius: 999px;
      font-size: 13px;
      z-index: 20;
      animation: fadeToast 2s forwards;
    }

    @keyframes fadeToast {
      0% { opacity: 0; transform: translate(-50%, 10px); }
      10% { opacity: 1; transform: translate(-50%, 0); }
      80% { opacity: 1; }
      100% { opacity: 0; transform: translate(-50%, -10px); }
    }

    .overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.6);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 10;
    }

    .modal {
      background: var(--panel);
      padding: 22px;
      border-radius: 20px;
      width: 90%;
      max-width: 360px;
      text-align: center;
      animation: pop 0.3s ease;
    }

    @keyframes pop {
      from { transform: scale(0.9); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }

    .modal h2 {
      margin-top: 0;
      font-size: 20px;
      color: var(--accent);
    }

    .modal p {
      font-size: 14px;
      margin: 10px 0 14px;
    }

    button {
      background: linear-gradient(135deg, var(--bg1), var(--bg2));
      border: none;
      color: white;
      padding: 12px 16px;
      border-radius: 14px;
      font-size: 14px;
      font-weight: 800;
      cursor: pointer;
      width: 100%;
      box-shadow: 0 6px 18px rgba(0,0,0,0.25);
    }

    button:active {
      transform: scale(0.97);
    }

    .hidden {
      display: none;
    }

    .stars {
      font-size: 20px;
      margin-top: 6px;
    }
  </style>
</head>
<body class="romantic">

<div class="app">
  <h1 id="title">ğŸ’– AÅŸkÄ±mÄ±zÄ±n HatÄ±ralarÄ± ğŸ’–</h1>
  <div id="subtitle" class="subtitle">Sevgilim <span id="loverName">AÅŸkÄ±m</span>, hadi baÅŸlayalÄ±m ğŸ’Œ</div>

  <div class="top-bar">
    <div class="pill">Level <span id="level">1</span></div>
    <div class="pill">â± <span id="time">0</span>s</div>
    <div class="pill">ğŸ’˜ <span id="score">0</span></div>
    <div class="pill">ğŸ† En Ä°yi: <span id="bestScore">â€”</span>s</div>
  </div>

  <div class="controls">
    <button class="mini-btn" onclick="toggleSound()">ğŸ”Š Ses</button>
    <button class="mini-btn" onclick="changeTheme()">ğŸ¨ Tema</button>
  </div>

  <div id="grid" class="grid"></div>
</div>

<!-- BAÅLANGIÃ‡ -->
<div id="startScreen" class="overlay">
  <div class="modal">
    <h2>ğŸ’Œ SÃ¼rprizin HazÄ±r Sevgilim!</h2>
    <p id="startMessage"></p>
    <button onclick="startGame()">Oyuna BaÅŸla</button>
  </div>
</div>

<!-- LEVEL BAÅLANGIÃ‡ -->
<div id="levelStart" class="overlay hidden">
  <div class="modal">
    <h2>ğŸ’– Yeni Level</h2>
    <p id="levelStartMessage"></p>
    <button onclick="beginLevel()">BaÅŸla</button>
  </div>
</div>

<!-- LEVEL TAMAMLANDI -->
<div id="levelComplete" class="overlay hidden">
  <div class="modal">
    <h2>ğŸ’ Harika!</h2>
    <p id="levelMessage"></p>
    <div class="stars" id="levelStars"></div>
    <button onclick="nextLevel()">Devam Et</button>
  </div>
</div>

<!-- OYUN BÄ°TTÄ° -->
<div id="gameComplete" class="overlay hidden">
  <div class="modal">
    <h2>ğŸ† Tebrikler <span id="finalName"></span>!</h2>
    <p>
      Toplam PuanÄ±n: <strong><span id="finalScore"></span></strong>
    </p>
    <div class="stars" id="finalStars"></div>
    <p style="font-size:13px;color:var(--accent);">
      Seni Ã§ok seviyorum ğŸ’Œ
    </p>
    <button onclick="restartGame()">Yeniden Oyna</button>
  </div>
</div>

<!-- SESLER -->
<audio id="bgMusic" src="audios/bg.mp3" loop></audio>
<audio id="flipSound" src="audios/flip.mp3"></audio>
<audio id="correctSound" src="audios/correct.mp3"></audio>
<audio id="wrongSound" src="audios/wrong.mp3"></audio>
<audio id="levelSound" src="audios/level.mp3"></audio>
<audio id="winSound" src="audios/win.mp3"></audio>

<script>
/* ==============================
   ğŸ”§ AYARLAR â€” SATIÅ Ä°Ã‡Ä°N DÃœZENLE
================================ */

// ğŸ‘‰ MÃœÅTERÄ° ADI
const CUSTOMER_NAME = "Umut";

// ğŸ‘‰ FOTOÄRAFLAR
const allImages = [
  "images/1.jpg","images/2.jpg","images/3.jpg","images/4.jpg","images/5.jpg",
  "images/6.jpg","images/7.jpg","images/8.jpg","images/9.jpg","images/10.jpg",
  "images/11.jpg","images/12.jpg","images/13.jpg","images/14.jpg","images/15.jpg"
];

// ğŸ‘‰ LEVEL KART SAYILARI
const levels = [6, 12, 16, 20];

// ğŸ‘‰ LEVEL BAÅLANGIÃ‡ MESAJLARI
const levelStartMessages = [
  "Ä°lk anÄ±larÄ±mÄ±zâ€¦ Kalbim burada baÅŸladÄ± ğŸ’˜",
  "Birlikte gÃ¼ldÃ¼ÄŸÃ¼mÃ¼z gÃ¼nler gibi ğŸ’•",
  "Her eÅŸleÅŸme seni bana biraz daha hatÄ±rlatÄ±yor ğŸ˜˜",
  "Ä°ÅŸte aÅŸkÄ±mÄ±zÄ±n finali ğŸ’–"
];

// ğŸ‘‰ LEVEL BÄ°TÄ°Å MESAJLARI
const romanticMessages = [
  "Bu level kalbime dokundu ğŸ’˜",
  "Her eÅŸleÅŸme seni bana daha Ã§ok hatÄ±rlattÄ± ğŸ’•",
  "Bu oyun aÅŸkÄ±mÄ±zÄ±n Ã¶zeti gibi ğŸ˜˜",
  "Kazanan her zaman biziz ğŸ’–"
];

// ğŸ‘‰ YANLIÅ EÅLEÅME MESAJLARI
const wrongMessages = [
  "Ama olsun, seni yine de Ã§ok seviyorum ğŸ’—",
  "Biraz karÄ±ÅŸtÄ±rdÄ±n ama kalbimi deÄŸil ğŸ˜˜",
  "Sorun deÄŸil, aÅŸk devam ediyor ğŸ’",
  "Bu sefer olmadÄ± ama ben buradayÄ±m ğŸ’–"
];

// ğŸ‘‰ TEMA LÄ°STESÄ°
const themes = ["romantic", "pastel", "dark", "neon"];

/* ==============================
   ğŸ® OYUN MOTORU
================================ */

let level = 0;
let score = 0;
let time = 0;
let timerInterval = null;
let firstCard = null;
let secondCard = null;
let lockBoard = false;
let matchedPairs = 0;
let soundOn = true;
let themeIndex = 0;

const grid = document.getElementById("grid");
const levelEl = document.getElementById("level");
const scoreEl = document.getElementById("score");
const timeEl = document.getElementById("time");
const bestScoreEl = document.getElementById("bestScore");
const loverNameEl = document.getElementById("loverName");
const finalNameEl = document.getElementById("finalName");

const startScreen = document.getElementById("startScreen");
const levelStart = document.getElementById("levelStart");
const levelComplete = document.getElementById("levelComplete");
const gameComplete = document.getElementById("gameComplete");

const levelMessageEl = document.getElementById("levelMessage");
const levelStarsEl = document.getElementById("levelStars");
const finalScoreEl = document.getElementById("finalScore");
const finalStarsEl = document.getElementById("finalStars");
const startMessageEl = document.getElementById("startMessage");
const levelStartMessageEl = document.getElementById("levelStartMessage");

/* -------- SES -------- */
const bgMusic = document.getElementById("bgMusic");
const flipSound = document.getElementById("flipSound");
const correctSound = document.getElementById("correctSound");
const wrongSound = document.getElementById("wrongSound");
const levelSound = document.getElementById("levelSound");
const winSound = document.getElementById("winSound");

/* -------- BAÅLANGIÃ‡ -------- */
loverNameEl.textContent = CUSTOMER_NAME;
finalNameEl.textContent = CUSTOMER_NAME;
startMessageEl.innerHTML = `Sevgilim <strong>${CUSTOMER_NAME}</strong>, bu oyun senin iÃ§in hazÄ±rlandÄ± ğŸ’–<br>HazÄ±rsan baÅŸlayalÄ±m ğŸ’Œ`;

const storedBestTime = localStorage.getItem("bestTime");
bestScoreEl.textContent = storedBestTime ? storedBestTime : "â€”";

/* -------- OYUN -------- */
function startGame() {
  startScreen.classList.add("hidden");
  level = 0;
  score = 0;
  time = 0;
  updateTopBar();
  startTimer();
  showLevelStart();

  if (soundOn) {
    bgMusic.volume = 0.35;
    bgMusic.currentTime = 0;
    bgMusic.play();
  }
}

function restartGame() {
  gameComplete.classList.add("hidden");
  startGame();
}

function showLevelStart() {
  levelStartMessageEl.textContent = levelStartMessages[level];
  levelStart.classList.remove("hidden");
}

function beginLevel() {
  levelStart.classList.add("hidden");
  loadLevel();
}

function nextLevel() {
  levelComplete.classList.add("hidden");
  level++;
  showLevelStart();
}

function updateTopBar() {
  levelEl.textContent = level + 1;
  scoreEl.textContent = score;
  timeEl.textContent = time;
}

function startTimer() {
  clearInterval(timerInterval);
  timerInterval = setInterval(() => {
    time++;
    timeEl.textContent = time;
  }, 1000);
}

/* -------- LEVEL YÃœKLE -------- */
function loadLevel() {
  grid.innerHTML = "";
  firstCard = null;
  secondCard = null;
  lockBoard = false;
  matchedPairs = 0;

  const cardCount = levels[level];
  const pairCount = cardCount / 2;

  const selectedImages = shuffle([...allImages]).slice(0, pairCount);
  const cards = shuffle([...selectedImages, ...selectedImages]);

  const columns = cardCount <= 6 ? 3 : 4;
  grid.style.gridTemplateColumns = `repeat(${columns}, 1fr)`;

  cards.forEach(img => {
    const card = document.createElement("div");
    card.className = "card";
    card.dataset.image = img;

    card.innerHTML = `
      <div class="card-inner">
        <div class="card-face card-front">ğŸ’–</div>
        <div class="card-face card-back">
          <img src="${img}" alt="memory"/>
        </div>
      </div>
    `;

    card.addEventListener("click", () => flipCard(card));
    grid.appendChild(card);
  });

  updateTopBar();
}

/* -------- KART TIK -------- */
function flipCard(card) {
  if (lockBoard) return;
  if (card === firstCard) return;

  if (soundOn) {
    flipSound.currentTime = 0;
    flipSound.play();
  }

  card.classList.add("flipped");

  if (!firstCard) {
    firstCard = card;
    return;
  }

  secondCard = card;
  checkMatch();
}

/* -------- EÅLEÅME -------- */
function checkMatch() {
  const isMatch = firstCard.dataset.image === secondCard.dataset.image;

  if (isMatch) {
    if (soundOn) {
      correctSound.currentTime = 0;
      correctSound.play();
    }

    score += 10;
    matchedPairs++;

    heartBurst(firstCard);
    heartBurst(secondCard);

    firstCard.style.pointerEvents = "none";
    secondCard.style.pointerEvents = "none";

    resetTurn();

    if (matchedPairs === levels[level] / 2) {
      setTimeout(() => {
        if (level < levels.length - 1) {
          if (soundOn) {
            levelSound.currentTime = 0;
            levelSound.play();
          }
          showConfetti();
          levelMessageEl.textContent = romanticMessages[level];
          levelStarsEl.textContent = getStarsForTime();
          levelComplete.classList.remove("hidden");
        } else {
          endGame();
        }
      }, 600);
    }
  } else {
    if (soundOn) {
      wrongSound.currentTime = 0;
      wrongSound.play();
    }

    showToast(randomFrom(wrongMessages));

    lockBoard = true;
    setTimeout(() => {
      firstCard.classList.remove("flipped");
      secondCard.classList.remove("flipped");
      resetTurn();
    }, 900);
  }
}

function resetTurn() {
  [firstCard, secondCard] = [null, null];
  lockBoard = false;
  updateTopBar();
}

/* -------- OYUN BÄ°TTÄ° -------- */
function endGame() {
  clearInterval(timerInterval);

  if (soundOn) {
    winSound.currentTime = 0;
    winSound.play();
    bgMusic.pause();
  }

  finalScoreEl.textContent = score;
  finalStarsEl.textContent = getStarsForTime();

  const bestTime = localStorage.getItem("bestTime");
  if (!bestTime || time < bestTime) {
    localStorage.setItem("bestTime", time);
    bestScoreEl.textContent = time;
  }

  showConfetti();
  gameComplete.classList.remove("hidden");
}

/* -------- YILDIZ SÄ°STEMÄ° -------- */
function getStarsForTime() {
  if (time < 60) return "â­â­â­â­â­";
  if (time < 90) return "â­â­â­â­";
  if (time < 120) return "â­â­â­";
  if (time < 150) return "â­â­";
  return "â­";
}

/* -------- SES AÃ‡ / KAPA -------- */
function toggleSound() {
  soundOn = !soundOn;
  if (!soundOn) {
    bgMusic.pause();
    showToast("ğŸ”‡ Ses kapatÄ±ldÄ±");
  } else {
    bgMusic.play();
    showToast("ğŸ”Š Ses aÃ§Ä±ldÄ±");
  }
}

/* -------- TEMA -------- */
function changeTheme() {
  themeIndex = (themeIndex + 1) % themes.length;
  document.body.className = themes[themeIndex];
  showToast("ğŸ¨ Tema deÄŸiÅŸtirildi");
}

/* -------- EFEKTLER -------- */
function heartBurst(card) {
  const rect = card.getBoundingClientRect();
  for (let i = 0; i < 5; i++) {
    const heart = document.createElement("div");
    heart.className = "heart";
    heart.textContent = "ğŸ’–";
    heart.style.left = rect.left + rect.width / 2 + "px";
    heart.style.top = rect.top + rect.height / 2 + "px";
    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 1000);
  }
}

function showConfetti() {
  for (let i = 0; i < 40; i++) {
    const confetti = document.createElement("div");
    confetti.className = "confetti";
    confetti.style.left = Math.random() * 100 + "vw";
    confetti.style.background = `hsl(${Math.random()*360},100%,60%)`;
    confetti.style.animationDuration = 1.5 + Math.random() * 1.5 + "s";
    document.body.appendChild(confetti);
    setTimeout(() => confetti.remove(), 2500);
  }
}

function showToast(text) {
  const toast = document.createElement("div");
  toast.className = "toast";
  toast.textContent = text;
  document.body.appendChild(toast);
  setTimeout(() => toast.remove(), 2000);
}

/* -------- UTIL -------- */
function shuffle(array) {
  return array.sort(() => Math.random() - 0.5);
}

function randomFrom(arr) {
  return arr[Math.floor(Math.random() * arr.length)];
}
</script>

</body>
</html>
